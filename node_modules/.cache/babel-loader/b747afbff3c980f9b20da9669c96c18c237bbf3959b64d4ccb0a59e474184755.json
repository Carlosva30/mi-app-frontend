{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'../../api/axios';//  token automático\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PantallaSolicitudesGuardadas=_ref=>{let{onVolver}=_ref;const[solicitudes,setSolicitudes]=useState([]);const[mensaje,setMensaje]=useState('');useEffect(()=>{axios.get('/solicitudes')//  no necesita la URL completa\n.then(res=>{localStorage.getItem('token');setSolicitudes(res.data.solicitudes||[]);}).catch(err=>{console.error('❌ Error al obtener solicitudes:',err);setMensaje('No se pudieron cargar las solicitudes. ¿Iniciaste sesión?');});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Solicitudes Guardadas\"}),mensaje&&/*#__PURE__*/_jsx(\"p\",{children:mensaje}),solicitudes.length===0&&!mensaje?/*#__PURE__*/_jsx(\"p\",{children:\"No hay solicitudes registradas.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:solicitudes.map((s,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:s.servicio}),\" - \",s.descripcion,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[s.email,\" | \",new Date(s.fecha).toLocaleString()]})]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:onVolver,style:{marginTop:'20px'},children:\"Volver\"})]});};export default PantallaSolicitudesGuardadas;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","PantallaSolicitudesGuardadas","_ref","onVolver","solicitudes","setSolicitudes","mensaje","setMensaje","get","then","res","localStorage","getItem","data","catch","err","console","error","style","padding","textAlign","children","length","listStyle","map","s","index","marginBottom","servicio","descripcion","email","Date","fecha","toLocaleString","onClick","marginTop"],"sources":["C:/Users/Windows/mi-proyecto-react/mi-app-servicios/src/componentes/servicios/PantallaSolicitudesGuardadas.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from '../../api/axios'; //  token automático\r\n\r\nconst PantallaSolicitudesGuardadas = ({ onVolver }) => {\r\n  const [solicitudes, setSolicitudes] = useState([]);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  useEffect(() => {\r\n    axios.get('/solicitudes') //  no necesita la URL completa\r\n      .then((res) => {localStorage.getItem('token')\r\n\r\n        setSolicitudes(res.data.solicitudes || []);\r\n      })\r\n      .catch((err) => {\r\n        console.error('❌ Error al obtener solicitudes:', err);\r\n        setMensaje('No se pudieron cargar las solicitudes. ¿Iniciaste sesión?');\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '20px', textAlign: 'center' }}>\r\n      <h2>Solicitudes Guardadas</h2>\r\n\r\n      {mensaje && <p>{mensaje}</p>}\r\n\r\n      {solicitudes.length === 0 && !mensaje ? (\r\n        <p>No hay solicitudes registradas.</p>\r\n      ) : (\r\n        <ul style={{ listStyle: 'none', padding: 0 }}>\r\n          {solicitudes.map((s, index) => (\r\n            <li key={index} style={{ marginBottom: '15px' }}>\r\n              <strong>{s.servicio}</strong> - {s.descripcion} <br />\r\n              <small>{s.email} | {new Date(s.fecha).toLocaleString()}</small>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n\r\n      <button onClick={onVolver} style={{ marginTop: '20px' }}>Volver</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PantallaSolicitudesGuardadas;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,KAAM,CAAAC,4BAA4B,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChD,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACdE,KAAK,CAACY,GAAG,CAAC,cAAc,CAAE;AAAA,CACvBC,IAAI,CAAEC,GAAG,EAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CP,cAAc,CAACK,GAAG,CAACG,IAAI,CAACT,WAAW,EAAI,EAAE,CAAC,CAC5C,CAAC,CAAC,CACDU,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAEF,GAAG,CAAC,CACrDR,UAAU,CAAC,2DAA2D,CAAC,CACzE,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEP,KAAA,QAAKkB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eACnDvB,IAAA,OAAAuB,QAAA,CAAI,uBAAqB,CAAI,CAAC,CAE7Bf,OAAO,eAAIR,IAAA,MAAAuB,QAAA,CAAIf,OAAO,CAAI,CAAC,CAE3BF,WAAW,CAACkB,MAAM,GAAK,CAAC,EAAI,CAAChB,OAAO,cACnCR,IAAA,MAAAuB,QAAA,CAAG,iCAA+B,CAAG,CAAC,cAEtCvB,IAAA,OAAIoB,KAAK,CAAE,CAAEK,SAAS,CAAE,MAAM,CAAEJ,OAAO,CAAE,CAAE,CAAE,CAAAE,QAAA,CAC1CjB,WAAW,CAACoB,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBACxB1B,KAAA,OAAgBkB,KAAK,CAAE,CAAES,YAAY,CAAE,MAAO,CAAE,CAAAN,QAAA,eAC9CvB,IAAA,WAAAuB,QAAA,CAASI,CAAC,CAACG,QAAQ,CAAS,CAAC,MAAG,CAACH,CAAC,CAACI,WAAW,CAAC,GAAC,cAAA/B,IAAA,QAAK,CAAC,cACtDE,KAAA,UAAAqB,QAAA,EAAQI,CAAC,CAACK,KAAK,CAAC,KAAG,CAAC,GAAI,CAAAC,IAAI,CAACN,CAAC,CAACO,KAAK,CAAC,CAACC,cAAc,CAAC,CAAC,EAAQ,CAAC,GAFxDP,KAGL,CACL,CAAC,CACA,CACL,cAED5B,IAAA,WAAQoC,OAAO,CAAE/B,QAAS,CAACe,KAAK,CAAE,CAAEiB,SAAS,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,QAAM,CAAQ,CAAC,EACrE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}